## 软件测试与质量保证报告

### 测试计划

##### 测试目标

1. 为测试各功能制定一个可行的、综合的计划，包括每项测试活动的对象、范围、方法和预期结果。
2. 识别出测试活动中各种风险，并消除可能存在的风险，降低由不可能消除的风险所带来的损失。

##### 测试内容

1. 测试软件系统的功能是否完整有效、性能是否达标
2. 用户功能：检查用户的注册和登录功能是否有效

3. 数据功能：检查商品信息、采购订单、销售订单、库存四个模块的增删改查功能是否完善；各模块的商品信息是否具有一致性

### 测试用例

此项目测试以功能验证为主，使用更加简便快捷的黑盒测试对模块功能集成测试，黑盒测试主要关注软件系统的输入和输出，测试是否满足规定的功能需求和性能要求，能够发现系统中的逻辑错误、功能缺陷、性能瓶颈等问题。主要使用等价类划分法和边界值分析法。

##### 注册登录功能

注册界面包括：用户名、密码、确认密码，可输入任意字符包括空字符，注册成功的条件为比对密码和确认密码是否一致。

登录界面包括：用户名、密码，可输入任意字符包括空字符，登录成功的条件为用户名和密码已注册。

据此划分为有效等价类和无效等价类

| 输入条件         | 有效等价类                                                   | 无效等价类                                                   |
| ---------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 输入信息是否有效 | 注册密码 == 注册确认密码(1)<br>登录用户信息存在于注册账号信息中(2) | 注册密码 != 注册确认密码(3)<br>登录用户信息不存在于注册账号信息中(4) |

注册界面测试用例

| 编号 | 测试输入                              | 覆盖等价类 | 期待输出   | 实际输出   |
| ---- | ------------------------------------- | ---------- | ---------- | ---------- |
| T01  | 用户名 = aa，密码 = 11，确认密码 = 11 | (1)        | 注册成功   | 注册成功   |
| T02  | 用户名 = aa，密码 = 10，确认密码 = 11 | (3)        | 密码不匹配 | 密码不匹配 |
| T03  | 用户名 = a，密码 = 11，确认密码为空   | (3)        | 密码不匹配 | 密码不匹配 |

登录界面测试用例：关联测试用例T01、T02、T03，即已存在注册用户（用户名aa，密码11）

| 编号 | 测试输入               | 覆盖等价类 | 期待输出           | 实际输出           |
| ---- | ---------------------- | ---------- | ------------------ | ------------------ |
| T04  | 用户名 = aa，密码 = 11 | (2)        | 登录成功           | 登录成功           |
| T05  | 用户名 = a，密码 = 11  | (4)        | 用户名或密码不正确 | 用户名或密码不正确 |
| T06  | 用户名 = aa，密码 = 10 | (4)        | 用户名或密码不正确 | 用户名或密码不正确 |
| T07  | 用户名 = aa，密码为空  | (4)        | 用户名或密码不正确 | 用户名或密码不正确 |
| T08  | 用户名为空，密码 = 11  | (4)        | 用户名或密码不正确 | 用户名或密码不正确 |

##### 新增功能

- 商品信息：注册新商品信息，库存会增加对应商品编号的商品，存储量为0。

| 输入条件                                                     | 有效等价类                                                   | 无效等价类                                                   |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 商品编号、商品名称、规格、描述、分类、价格都不为空<br>商品编号不允许重复<br> | product_id!=null(1)<br>product_name!=null(2)<br>specification!=null(3)<br>description!=null(4)<br>classification!=null(5)<br>price!=null(6)<br>product_id not exist(7)<br> | product_id exist(8)<br/>product_id== null(9)<br>product_name== null(10)<br>specification== null(11)<br>description== null(12)<br>classification== null(13)<br>price== null(14)<br> |

构造测试用例及测试结果如下：在``注册成功``时库存都增加对应商品信息，符合预期

| 编号 | 测试输入                                   | 覆盖等价类            | 期待输出 | 实际输出 |
| ---- | ------------------------------------------ | --------------------- | -------- | -------- |
| T01  | 1,蓝月亮洗衣液,1L,捆绑销售,生活用品，36.05 | (1)(2)(3)(4)(5)(6)(7) | 注册成功 | 注册成功 |
| T02  | 2,蓝月亮洗衣液,1L,捆绑销售,生活用品，36.05 | (1)(2)(3)(4)(5)(6)(7) | 注册成功 | 注册成功 |
| T03  | 1,美的洗衣液,1.5L,捆绑销售,生活用品,60     | (8)                   | Error    | Error    |
| T04  | null,美的洗衣液,1.5L,捆绑销售,生活用品,60  | (9)                   | Error    | Error    |
| T05  | 3,null,1.5L,捆绑销售,生活用品,60           | (10)                  | Error    | Error    |
| T06  | 3,美的洗衣液,null,捆绑销售,生活用品,60     | (11)                  | Error    | Error    |
| T07  | 3,美的洗衣液,1.5L,null,生活用品,60         | (12)                  | Error    | Error    |
| T08  | 3,美的洗衣液,1.5L,捆绑销售,null,60         | (13)                  | Error    | Error    |
| T09  | 3,美的洗衣液,1.5L,捆绑销售,生活用品,null   | (14)                  | Error    | Error    |
| T10  | 3,美的洗衣液,1.5L,捆绑销售,生活用品,60     | (1)(2)(3)(4)(5)(6)(7) | 注册成功 | 注册成功 |

- 采购订单：新增采购订单，商品编号需要存在于商品信息中；库存对应商品的数量会根据新增采购数量而发生同样数量增加

| 输入条件                                                     | 有效等价类                                                   | 无效等价类                                                   |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 订单编号、商品编号、购买日期、单价、数量、供货商都不为空<br>订单编号不允许重复<br>商品编号必须存在于商品信息中 | order_number!=null(0)<br>product_id!=null(1)<br>purchase_date!=null(2)<br>unit_price!=null(3)<br>quanitity!=null(4)<br>supplier!=null(5)<br>order_number not exist(6)<br>product_id exist(7)<br> | order_number== null(8)<br>product_id== null(9)<br>purchase_date== null(10)<br>unit_price== null(11)<br>quanitity== null(12)<br>supplier== null(13)<br>order_number exist(14)<br>product_id not exist(15)<br> |

构造测试用例(T01~T10前提下进行，即已存在编号为1、2、3的三件商品信息)及测试结果如下：在``添加成功``时库存都增加对应商品进货数量，符合预期

| 编号 | 测试输入                        | 覆盖等价类               | 期待输出                   | 实际输出                   |
| ---- | ------------------------------- | ------------------------ | -------------------------- | -------------------------- |
| T11  | 1,1,2024-06-11,36,50,供货商A    | (0)(1)(2)(3)(4)(5)(6)(7) | 添加成功<br>商品1仓储量+50 | 添加成功<br>商品1仓储量+50 |
| T12  | 2,1,2024-06-11,36,50,供货商A    | (0)(1)(2)(3)(4)(5)(6)(7) | 添加成功<br>商品1仓储量+50 | 添加成功<br>商品1仓储量+50 |
| T13  | 1,2,2024-06-10,59,30,供货商B    | (14)                     | Error                      | Error                      |
| T14  | null,2,2024-06-10,59,30,供货商B | (8)                      | Error                      | Error                      |
| T15  | 3,null,2024-06-10,59,30,供货商B | (9)                      | Error                      | Error                      |
| T16  | 3,2,null,59,30,供货商B          | (10)                     | Error                      | Error                      |
| T17  | 3,2,2024-06-10,null,30,供货商B  | (11)                     | Error                      | Error                      |
| T18  | 3,2,2024-06-10,59,null,供货商B  | (12)                     | Error                      | Error                      |
| T19  | 3,2,2024-06-10,59,30,null       | (13)                     | Error                      | Error                      |
| T20  | 3,4,2024-06-10,59,30,供货商B    | (15)                     | Error                      | Error                      |
| T21  | 3,2,2024-06-10,59,30,供货商B    | (0)(1)(2)(3)(4)(5)(6)(7) | 添加成功<br>商品2仓储量+30 | 添加成功<br>商品2仓储量+30 |

- 销售订单：新增销售订单会根据订单中商品的数量而减少库存中对应商品的仓储量（数量大于仓储量的情况） 

| 输入条件                                                     | 有效等价类                                                   | 无效等价类                                                   |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 订单编号、商品编号、出售日期、单价、数量都不为空<br>订单编号不允许重复<br>商品编号必须存在于商品信息中<br>商品数量不大于库存量 | order_number!=null(1)<br>product_id!=null(2)<br>sales_date!=null(3)<br>unit_price!=null(4)<br>quanitity!=null(5)<br>order_number not exist(6)<br>product_id exist(7)<br>quanitity <= stock_quanitity(8) | order_number== null(8)<br>product_id== null(9)<br>sales_date== null(10)<br>unit_price== null(11)<br>quanitity== null(12)<br>order_number exist(13)<br>product_id not exist(14)<br>quanitity > stock_quanitity(15) |

构造测试用例(T01~T21前提下进行，即已存在三件商品信息和三份采购订单，商品1，2仍有库存量情况下)及测试结果如下：在``添加成功``时库存都减少对应商品销售数量，符合预期

| 编号 | 测试输入               | 覆盖等价类                  | 期待输出                  | 实际输出                                           |
| ---- | ---------------------- | --------------------------- | ------------------------- | -------------------------------------------------- |
| T22  | 1,1,2024-06-11,40,5    | (1)(2)(3)(4)(5)(6)(7)(8)    | 添加成功<br>商品1仓储量-5 | 添加成功<br>商品1仓储量-5                          |
| T23  | 2,1,2024-06-11,40,5    | (1)(2)(3)(4)(5)(6)(7)(8)    | 添加成功<br>商品1仓储量-5 | 添加成功<br>商品1仓储量-5                          |
| T24  | 1,2,2024-06-10,65,4    | (13)                        | Error                     | Error                                              |
| T25  | null,2,2024-06-10,65,4 | (8)                         | Error                     | Error                                              |
| T26  | 3,null,2024-06-10,65,4 | (9)                         | Error                     | Error                                              |
| T27  | 3,2,null,65,4          | (10)                        | Error                     | Error                                              |
| T28  | 3,2,2024-06-10,null,4  | (11)                        | Error                     | Error                                              |
| T29  | 3,2,2024-06-10,65,null | (12)                        | Error                     | Error                                              |
| T30  | 3,4,2024-06-10,65,4    | (14)                        | Error                     | Error                                              |
| T31  | 3,2,2024-06-10,65,4    | (0)(1)(2)(3)(4)(5)(6)(7)(8) | 添加成功<br>商品2仓储量-4 | 添加成功<br>商品2仓储量-4                          |
| T32  | 4,2,2024-06-10,65,100  | (15)                        | Error                     | 添加成功<br>商品2仓储量-100<br>商品2仓储量变为负数 |

##### 删除功能

- 商品信息：删除商品信息，所有模块中该商品的信息都会一并删除

构造测试用例(T01~T32前提下进行，即已存在三件商品信息、三份采购订单和四份销售订单)

| 编号 | 测试输入      | 期待输出                      | 实际输出                      |
| ---- | ------------- | ----------------------------- | ----------------------------- |
| T33  | 删除商品2信息 | 所有模块中商品2的信息都被删除 | 所有模块中商品2的信息都被删除 |

- 采购订单：删除采购订单，库存对应商品的数量会根据删除的数量而发生同样数量减少

构造测试用例(T01~T33前提下进行，即已存在二件商品信息、二份采购订单和二份销售订单)

| 编号 | 测试输入      | 期待输出                     | 实际输出                     |
| ---- | ------------- | ---------------------------- | ---------------------------- |
| T34  | 删除采购订单2 | 该订单被删除，商品1仓储量-50 | 该订单被删除，商品1仓储量-50 |

- 销售订单：删除销售订单，库存对应商品的数量会根据删除数量而发生同样数量增加

构造测试用例(T01~T34前提下进行，即已存在二件商品信息、一份采购订单和二份销售订单)

| 编号 | 测试输入      | 期待输出                    | 实际输出                    |
| ---- | ------------- | --------------------------- | --------------------------- |
| T35  | 删除销售订单2 | 该订单被删除，商品1仓储量+5 | 该订单被删除，商品1仓储量+5 |

##### 修改功能

- 商品信息

| 输入条件                                                     | 有效等价类                                                   | 无效等价类                                                   |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 商品编号、商品名称、规格、描述、分类、价格都不为空<br>商品编号不允许更改<br> | product_id!=null(1)<br>product_name!=null(2)<br>specification!=null(3)<br>description!=null(4)<br>classification!=null(5)<br>price!=null(6)<br>product_id not change(7)<br> | product_id change(8)<br/>product_id== null(9)<br>product_name== null(10)<br>specification== null(11)<br>description== null(12)<br>classification== null(13)<br>price== null(14)<br> |

构造测试用例(T01~T35前提下进行，即已存在商品1和商品3信息、一份商品1采购订单和一份商品1销售订单)

| 编号 | 测试输入                                      | 覆盖等价类            | 期待输出 | 实际输出 |
| ---- | --------------------------------------------- | --------------------- | -------- | -------- |
| T36  | 2,蓝月亮洗衣液,1L,捆绑销售,生活用品，36.05    | (8)                   | Error    | Error    |
| T37  | 1,立白洗衣液,1.5L,普通销售,日常用品，40.05    | (1)(2)(3)(4)(5)(6)(7) | 修改成功 | 修改成功 |
| T38  | null,立白洗衣液,1.5L,普通销售,日常用品，40.05 | (9)                   | Error    | Error    |
| T39  | 1,null,1.5L,普通销售,日常用品，40.05          | (10)                  | Error    | Error    |
| T40  | 1,立白洗衣液,null,普通销售,日常用品，40.05    | (11)                  | Error    | Error    |
| T41  | 1,立白洗衣液,1.5L,null,日常用品，40.05        | (12)                  | Error    | Error    |
| T42  | 1,立白洗衣液,1.5L,普通销售,null，40.05        | (13)                  | Error    | Error    |
| T43  | 1,立白洗衣液,1.5L,普通销售,日常用品，null     | (14)                  | Error    | Error    |

- 采购订单：修改商品数量，库存对应商品的数量会根据修改数量变化而发生同样变化

| 输入条件                                                     | 有效等价类                                                   | 无效等价类                                                   |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 订单编号、商品编号、购买日期、单价、数量、供货商都不为空<br>订单编号不允许修改<br>商品编号必须存在于商品信息中<br>减少的商品数量必须不大于库存量 | order_number!=null(0)<br>product_id!=null(1)<br>purchase_date!=null(2)<br>unit_price!=null(3)<br>quanitity!=null(4)<br>supplier!=null(5)<br>order_number not change(6)<br>product_id exist(7)<br>old_quanitity - new_quanitity <= stock_quanitity(16) | order_number== null(8)<br>product_id== null(9)<br>purchase_date== null(10)<br>unit_price== null(11)<br>quanitity== null(12)<br>supplier== null(13)<br>order_number change(14)<br>product_id not exist(15)<br>old_quanitity - new_quanitity > stock_quanitity(17) |

构造测试用例(T01~T43前提下进行，即已存在商品1和商品3信息、一份商品1采购订单和一份商品1销售订单)

| 编号 | 测试输入                        | 覆盖等价类                   | 期待输出                                     | 实际输出                    |
| ---- | ------------------------------- | ---------------------------- | -------------------------------------------- | --------------------------- |
| T44  | 1,1,2024-06-12,40,60,供货商C    | (0)(1)(2)(3)(4)(5)(6)(7)(16) | 修改成功<br>商品1仓储量+10                   | 修改成功<br>商品1仓储量+10  |
| T45  | 2,1,2024-06-12,40,60,供货商C    | (14)                         | Error                                        | Error                       |
| T46  | null,1,2024-06-12,40,60,供货商C | (8)                          | Error                                        | Error                       |
| T47  | 1,null,2024-06-12,40,60,供货商C | (9)                          | Error                                        | Error                       |
| T48  | 1,1,null,40,60,供货商C          | (10)                         | Error                                        | Error                       |
| T49  | 1,1,2024-06-12,null,60,供货商C  | (11)                         | Error                                        | Error                       |
| T50  | 1,1,2024-06-12,40,null,供货商C  | (12)                         | Error                                        | Error                       |
| T51  | 1,1,2024-06-12,40,60,null       | (13)                         | Error                                        | Error                       |
| T52  | 2,3,2024-06-12,40,60,供货商C    | (0)(1)(2)(3)(4)(5)(6)(7)(16) | 修改成功<br>商品1仓储量-60<br>商品3仓储量+60 | 修改成功<br>仓储量不变      |
| T53  | 2,3,2024-06-12,40,50,供货商C    | (17)                         | Error                                        | 修改成功<br/>商品3仓储量-10 |

- 销售订单：修改销售商品数量，库存对应商品的数量会根据修改数量变化而发生同样变化；修改商品编号，库存会减少修改后商品的存储量，增加修改前商品的存储量

| 输入条件                                                     | 有效等价类                                                   | 无效等价类                                                   |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 订单编号、商品编号、出售日期、单价、数量都不为空<br>订单编号不允许修改<br>商品编号必须存在于商品信息中<br>增加的商品数量不大于库存量 | order_number!=null(1)<br>product_id!=null(2)<br>sales_date!=null(3)<br>unit_price!=null(4)<br>quanitity!=null(5)<br>order_number not change(6)<br>product_id exist(7)<br>new_quanitity - old_quanitity <= stock_quanitity(0) | order_number== null(8)<br>product_id== null(9)<br>sales_date== null(10)<br>unit_price== null(11)<br>quanitity== null(12)<br>order_number change(13)<br>product_id not exist(14)<br>new_quanitity - old_quanitity <= stock_quanitity(15) |

构造测试用例(T01~T53前提下进行，即已存在商品1和商品3信息、一份商品3采购订单和一份商品1销售订单)

| 编号 | 测试输入                | 覆盖等价类               | 期待输出                                      | 实际输出                                       |
| ---- | ----------------------- | ------------------------ | --------------------------------------------- | ---------------------------------------------- |
| T54  | 1,1,2024-06-12,45,10    | (1)(2)(3)(4)(5)(6)(7)(0) | 修改成功<br>商品1仓储量-5                     | 添加成功<br>商品1仓储量-5                      |
| T55  | 2,1,2024-06-12,45,10    | (13)                     | Error                                         | Error                                          |
| T56  | null,1,2024-06-12,45,10 | (8)                      | Error                                         | Error                                          |
| T57  | 1,null,2024-06-12,45,10 | (9)                      | Error                                         | Error                                          |
| T58  | 1,1,null,45,10          | (10)                     | Error                                         | Error                                          |
| T59  | 1,1,2024-06-12,null,10  | (11)                     | Error                                         | Error                                          |
| T60  | 1,1,2024-06-12,45,null  | (12)                     | Error                                         | Error                                          |
| T61  | 1,4,2024-06-12,45,10    | (14)                     | Error                                         | Error                                          |
| T62  | 1,3,2024-06-12,45,10    | (1)(2)(3)(4)(5)(6)(7)(0) | 修改成功<br>商品1仓储量+10<br/>商品3仓储量-10 | 添加成功<br>仓储量不变                         |
| T63  | 1,3,2024-06-12,45,15    | (15)                     | Error                                         | 添加成功<br>商品3仓储量-5<br>商品3仓储量为负数 |

##### 查找功能

选择搜索关键字，输入搜索信息，点击`搜索`筛选出商品信息；点击`显示所有`按钮重新看到所有商品信息

构造测试用例(T01~T63前提下进行，即已存在商品1和商品3信息)，搜索存在的字段信息以及不存在的字段信息

- 商品信息

| 编号 | 测试输入              | 期待输出                  | 实际输出         |
| ---- | --------------------- | ------------------------- | ---------------- |
| T64  | product_id = 1        | 显示商品1信息             | 显示商品1信息    |
| T65  | product_id = 3        | 显示商品3信息             | 显示商品3信息    |
| T66  | product_id = 2        | 无商品信息                | 无商品信息       |
| T67  | 输入空串              | 显示所有商品信息          | 显示所有商品信息 |
| T68  | product_name = 美     | 显示商品3信息(美的洗衣液) | 显示商品3信息    |
| T69  | specification = 1.5   | 显示商品1、3信息          | 显示商品1、3信息 |
| T70  | description = 捆绑    | 显示商品3信息             | 显示商品3信息    |
| T71  | classification = 用品 | 显示商品1、3信息          | 显示商品1、3信息 |
| T72  | price = 40            | 显示商品1信息             | 显示商品1信息    |

- 采购订单

新增采购订单（order_number=2,product_id=1,purchase_date=2024-06-11,unit_price=50,quantity=40,supplier=供货商A）

| 编号 | 测试输入           | 期待输出         | 实际输出         |
| ---- | ------------------ | ---------------- | ---------------- |
| T73  | order_number = 1   | 显示订单1信息    | 显示订单1信息    |
| T74  | product_id = 1     | 显示订单2信息    | 显示订单2信息    |
| T75  | purchase_date = 11 | 显示订单2信息    | 显示订单2信息    |
| T76  | unit_price = 50    | 显示订单2信息    | 显示订单2信息    |
| T77  | quantity = 50      | 显示订单1信息    | 显示订单1信息    |
| T78  | supplier = 供货    | 显示订单1、2信息 | 显示订单1、2信息 |

- 销售订单

新增销售订单（order_number=2,product_id=3,sales_date=2024-06-11,unit_price=50,quantity=5）

| 编号 | 测试输入         | 期待输出      | 实际输出      |
| ---- | ---------------- | ------------- | ------------- |
| T79  | order_number = 1 | 显示订单1信息 | 显示订单1信息 |
| T80  | product_id = 3   | 显示订单2信息 | 显示订单2信息 |
| T81  | sales_date= 11   | 显示订单2信息 | 显示订单2信息 |
| T82  | unit_price = 50  | 显示订单2信息 | 显示订单2信息 |
| T83  | quantity = 10    | 显示订单1信息 | 显示订单1信息 |

### 缺陷跟踪

缺陷报告

| 缺陷编号 | 00001                                                        |
| -------- | ------------------------------------------------------------ |
| 标题     | 库存出现负数                                                 |
| 描述     | 在新增销售订单或修改采购和销售订单时，订单商品数量变化没有考虑到库存量的限制，比如新增商品1销售数量10，而商品1的库存量为5，新增订单过后商品1库存量就会变为-5 |
| 优先级   | 高                                                           |
| 状态     | 新建                                                         |
| 报告人   | 陈欣宇                                                       |
| 注释     | 建议修改原本的触发器，使库存量在修改前判断需要减少量是否大于库存量 |

| 缺陷编号 | 00002                                                        |
| -------- | ------------------------------------------------------------ |
| 标题     | 库存量未自动更改                                             |
| 描述     | 修改订单的商品编号，比如将采购订单1的商品1改为商品3，那么原本商品1的采购数量应该转移到商品3，所以库存中商品1库存量应该减少，商品3增加，但实际未作出此更改 |
| 优先级   | 高                                                           |
| 状态     | 新建                                                         |
| 报告人   | 陈欣宇                                                       |
| 注释     | 建议新增触发器，在订单修改商品编号时对库存量进行修改         |

### 质量保证方法



